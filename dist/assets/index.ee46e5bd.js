import{d as b,r as p,c as g,a as r,n as $,o as f,b as I,e as C,w as c,v as m,F,f as k,g as O,h as L}from"./vendor.c1d06252.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};V();var w=(e,t)=>{const s=e.__vccOpts||e;for(const[l,n]of t)s[l]=n;return s};const A=b({setup(){const e=p([]),t=p(!1);return{previewUrls:e,droppable:t}},methods:{reset(){this.previewUrls=[],this.droppable=!1},onFileSelect(e){const t=e.target;if(!t.files)return;const s=[];for(let l=0;l<t.files.length;l++)s.push(t.files[l]);this.preview(s)},async preview(e){let t=[];for(let s of e)t.push(new Promise(l=>{const n=new FileReader;n.readAsDataURL(s),n.onload=i=>{l(i.target.result)}}));this.previewUrls=await Promise.all(t),this.$emit("selected",this.previewUrls)},imagesFromDragEvt(e){var l;const t=(l=e.dataTransfer)==null?void 0:l.items;if(!t||t.length===0)return[];const s=[];for(let n=0;n<t.length;n++)t[n].type.startsWith("image/")&&s.push(t[n]);return s},onDrop(e){this.droppable=!1;const t=this.imagesFromDragEvt(e);if(t.length===0)return!1;const s=[];for(const l of t){const n=l.getAsFile();n&&s.push(n)}return s.length===0||(this.preview(s),e.preventDefault()),!1},onDragover(e){return this.imagesFromDragEvt(e).length===0||(this.droppable=!0,e.preventDefault()),!1},onDragleave(){this.droppable=!1}}}),M=r("div",{class:"drop-target"},null,-1),R=r("span",{class:"button is-small"},"Add File",-1);function E(e,t,s,l,n,i){return f(),g("div",{class:$(["image-select",{"has-image":e.previewUrls.length,"no-image":!e.previewUrls.length,droppable:e.droppable}]),onDrop:t[1]||(t[1]=(...o)=>e.onDrop&&e.onDrop(...o)),onDragover:t[2]||(t[2]=(...o)=>e.onDragover&&e.onDragover(...o)),onDragleave:t[3]||(t[3]=(...o)=>e.onDragleave&&e.onDragleave(...o))},[M,r("div",null,[r("label",null,[r("input",{type:"file",style:{display:"none"},onChange:t[0]||(t[0]=(...o)=>e.onFileSelect&&e.onFileSelect(...o)),accept:"image/*"},null,32),R])])],34)}var P=w(A,[["render",E]]);const N=async e=>new Promise(t=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{t(s)},s.src=e}),B=e=>{var t=Math.PI;return e*(t/180)};function T(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}const X=b({components:{ImageSelect:P},setup(){const e=p([]),t=p(""),s=p("#000"),l=p(150),n=p(450),i=p(100),o=p(!0);return{urls:e,inputUrl:t,bgColor:s,spacing:l,canvasSize:n,imagesSize:i,randomizeOrder:o}},methods:{removeUrl(e){this.urls=this.urls.filter((t,s)=>e!==s)},addUrlsStr(){const e=this.inputUrl.split(/[\n\r]+/).filter(t=>!!t);this.urls.push(...e)},onImageSelected(e){this.urls.push(...e),this.$refs.imageSelect.reset()},async generate(){const e=parseInt(`${this.spacing}`,10),t=document.createElement("canvas");t.width=parseInt(`${this.canvasSize}`,10),t.height=parseInt(`${this.canvasSize}`,10);const s=t.getContext("2d");if(!s)return;s.fillStyle=this.bgColor,s.fillRect(0,0,t.width,t.height);const l=[];for(let o of this.urls)l.push(await N(o));let n=0,i=0;for(let o=0;o<t.height;o+=e){for(let a=0;a<t.width;a+=e){const u=a+(i%2===0?e/4+e/2:e/4),d=o+e/4;n%this.urls.length===0&&this.randomizeOrder&&T(l);const U=l[n%this.urls.length],h=parseInt(`${this.imagesSize}`,10),v=parseInt(`${this.imagesSize}`,10),S=B(Math.random()*360),D=[[u,d],[u+this.canvasSize,d],[u-this.canvasSize,d],[u,d+this.canvasSize],[u,d-this.canvasSize],[u+this.canvasSize,d+this.canvasSize],[u-this.canvasSize,d-this.canvasSize],[u+this.canvasSize,d-this.canvasSize],[u-this.canvasSize,d+this.canvasSize]];for(let[z,y]of D)s.save(),s.translate(z,y),s.rotate(S),s.drawImage(U,-h/2,-v/2,h,v),s.rotate(-S),s.translate(-z,-y),s.restore();n++}i++}console.log(t.toDataURL()),document.body.style.backgroundImage=`url(${t.toDataURL()})`}}}),Y=["src","onClick"],j=r("td",null,"bgColor",-1),q=r("td",null,"imagesSize",-1),G=r("td",null,"spacing",-1),K=r("td",null,"canvasSize",-1),W=r("td",null,"randomizeOrder",-1);function H(e,t,s,l,n,i){const o=I("image-select");return f(),g("div",null,[C(o,{onSelected:e.onImageSelected,ref:"imageSelect"},null,8,["onSelected"]),c(r("textarea",{class:"textarea","onUpdate:modelValue":t[0]||(t[0]=a=>e.inputUrl=a)},null,512),[[m,e.inputUrl]]),r("span",{class:"button is-small",onClick:t[1]||(t[1]=(...a)=>e.addUrlsStr&&e.addUrlsStr(...a))},"Add URL(s)"),(f(!0),g(F,null,k(e.urls,(a,u)=>(f(),g("img",{key:u,width:"100",src:e.urls[u],onClick:d=>e.removeUrl(u)},null,8,Y))),128)),r("table",null,[r("tr",null,[j,r("td",null,[c(r("input",{class:"input is-small","onUpdate:modelValue":t[2]||(t[2]=a=>e.bgColor=a)},null,512),[[m,e.bgColor]])])]),r("tr",null,[q,r("td",null,[c(r("input",{class:"input is-small","onUpdate:modelValue":t[3]||(t[3]=a=>e.imagesSize=a)},null,512),[[m,e.imagesSize]])])]),r("tr",null,[G,r("td",null,[c(r("input",{class:"input is-small","onUpdate:modelValue":t[4]||(t[4]=a=>e.spacing=a)},null,512),[[m,e.spacing]])])]),r("tr",null,[K,r("td",null,[c(r("input",{class:"input is-small","onUpdate:modelValue":t[5]||(t[5]=a=>e.canvasSize=a)},null,512),[[m,e.canvasSize]])])]),r("tr",null,[W,r("td",null,[c(r("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>e.randomizeOrder=a)},null,512),[[O,e.randomizeOrder]])])])]),r("div",null,[r("span",{class:"button is-small",onClick:t[7]||(t[7]=(...a)=>e.generate&&e.generate(...a))},"Generate!!!!")])])}var J=w(X,[["render",H]]);const Q=async()=>{L(J).mount("#app")};Q();
